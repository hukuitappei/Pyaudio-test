# タスク自動Googleカレンダー同期機能ガイド

## 🎯 機能概要

タスクの自動Googleカレンダー同期機能により、新しいタスクが追加された際に自動的にGoogleカレンダーにイベントとして登録されます。

## 🔧 設定方法

### Step 1: 設定タブにアクセス
1. アプリケーションの設定タブを開く
2. 「タスク管理」セクションを選択
3. 「⚙️ タスク設定」タブをクリック

### Step 2: 自動同期設定
以下の設定オプションが利用できます：

#### **Googleカレンダーに自動同期**
- **機能**: 新しいタスクが追加された際に自動的にGoogleカレンダーに同期
- **デフォルト**: 無効
- **推奨**: 有効にすると便利

#### **新規タスクのデフォルト同期**
- **機能**: 新規タスク追加時にGoogleカレンダー同期をデフォルトで有効にする
- **デフォルト**: 有効
- **効果**: タスク追加フォームで同期チェックボックスが自動的にチェックされる

#### **完了タスクも同期**
- **機能**: 完了したタスクもGoogleカレンダーに同期する
- **デフォルト**: 無効
- **注意**: 完了タスクが多い場合、カレンダーが混雑する可能性があります

### Step 3: カレンダー設定

#### **タイムゾーン**
- **選択肢**: Asia/Tokyo, UTC, America/New_York, Europe/London
- **デフォルト**: Asia/Tokyo
- **効果**: Googleカレンダーのイベント時間が指定したタイムゾーンで表示される

#### **デフォルトイベント時間（分）**
- **範囲**: 15分〜480分（8時間）
- **デフォルト**: 60分
- **効果**: タスクの期限時間から指定した時間分のイベントが作成される

### Step 4: 設定の保存
「💾 設定を保存」ボタンをクリックして設定を保存します。

## 📋 使用方法

### 自動同期が有効な場合
1. タスク追加タブで新しいタスクを作成
2. タスクが追加されると自動的にGoogleカレンダーに同期
3. 成功メッセージが表示される

### 自動同期が無効な場合
1. タスク追加時に「Googleカレンダーに同期」チェックボックスを手動で選択
2. タスクが追加されると手動でGoogleカレンダーに同期
3. 成功メッセージが表示される

## 🔍 同期の仕組み

### イベント作成ルール
1. **タイトル**: タスクのタイトル
2. **説明**: タスクの説明
3. **開始時間**: タスクの期限（期限がない場合は現在時刻）
4. **終了時間**: 開始時間 + デフォルトイベント時間
5. **タイムゾーン**: 設定で指定したタイムゾーン

### 同期条件
- **認証済み**: Googleカレンダーが認証されている
- **未同期**: 既にGoogleカレンダーに同期されていない
- **設定有効**: 自動同期設定が有効になっている
- **完了タスク**: 完了タスク同期設定に従う

## ⚠️ 注意事項

### 認証が必要
- 自動同期を使用するには、Googleカレンダーの認証が必要です
- 認証されていない場合、自動同期は実行されません

### 重複同期の防止
- 既にGoogleカレンダーに同期されているタスクは再同期されません
- タスクに`google_event_id`が保存されている場合、同期をスキップします

### エラーハンドリング
- 同期に失敗した場合、エラーメッセージが表示されます
- ネットワークエラーや認証エラーの場合は手動で再試行してください

## 🎯 ベストプラクティス

### 推奨設定
1. **自動同期**: 有効にする
2. **デフォルト同期**: 有効にする
3. **完了タスク同期**: 無効にする（カレンダーを整理するため）
4. **タイムゾーン**: 使用地域に合わせる
5. **イベント時間**: タスクの性質に合わせて調整（30分〜120分推奨）

### 効率的な使用方法
1. **カテゴリ活用**: タスクのカテゴリを適切に設定
2. **優先度設定**: 重要なタスクは優先度を高く設定
3. **期限設定**: 期限を明確に設定してカレンダー管理を効率化
4. **定期的な確認**: カレンダー連携タブで同期状況を確認

## 🔧 トラブルシューティング

### 自動同期が動作しない
1. **認証確認**: Googleカレンダーが認証されているか確認
2. **設定確認**: 自動同期設定が有効になっているか確認
3. **エラーログ**: エラーメッセージを確認して対処

### イベント時間がおかしい
1. **タイムゾーン確認**: 設定のタイムゾーンが正しいか確認
2. **イベント時間確認**: デフォルトイベント時間が適切か確認
3. **期限設定確認**: タスクの期限が正しく設定されているか確認

### 重複イベントが作成される
1. **同期状況確認**: カレンダー連携タブで既存の同期状況を確認
2. **手動削除**: Googleカレンダーから重複イベントを手動で削除
3. **設定リセット**: 必要に応じて設定をリセット

## 📞 サポート

自動同期機能で問題が発生した場合は、以下を確認してください：

1. **Google認証**: カレンダー連携タブで認証状態を確認
2. **設定**: タスク設定タブで設定内容を確認
3. **エラーメッセージ**: 具体的なエラー内容を確認
4. **ログ**: アプリケーションのログを確認

このガイドに従って、タスクの自動Googleカレンダー同期機能を効率的に活用してください。
