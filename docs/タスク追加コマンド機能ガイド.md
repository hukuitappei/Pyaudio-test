# タスク追加コマンド機能ガイド

## 概要

タスク追加コマンドは、音声録音の文字起こし結果から自動的にタスクを検出・作成する機能です。音声で「タスク」や「やること」などのキーワードを含めて話すことで、自動的にタスクとして認識され、タスク管理システムに保存されます。

## 機能特徴

### 自動検出機能
- **キーワード検出**: 音声に含まれるタスク関連キーワードを自動検出
- **情報抽出**: タイトル、優先度、カテゴリ、説明文を自動抽出
- **Googleカレンダー連携**: 作成されたタスクは自動的にGoogleカレンダーと同期

### 対応キーワード

#### タスクキーワード
- `タスク`
- `task`
- `やること`
- `todo`
- `TODO`
- `ToDo`

#### 優先度キーワード
- `緊急` / `urgent`
- `高` / `high`
- `中` / `medium`
- `低` / `low`

#### カテゴリキーワード
- `仕事` / `work`
- `プライベート` / `private`
- `勉強` / `study`
- `健康` / `health`

## 使用方法

### 1. 基本的な使用方法

音声録音時に以下のような内容を話してください：

```
「タスク 明日の会議の準備」
```

この場合、以下のタスクが自動作成されます：
- **タイトル**: 明日の会議の準備
- **優先度**: 中（デフォルト）
- **カテゴリ**: その他（デフォルト）

### 2. 詳細情報を含む使用方法

```
「タスク 買い物リストの作成 高優先度 プライベート」
```

この場合、以下のタスクが自動作成されます：
- **タイトル**: 買い物リストの作成
- **優先度**: 高
- **カテゴリ**: プライベート

### 3. 英語での使用方法

```
「task prepare presentation high priority work」
```

この場合、以下のタスクが自動作成されます：
- **タイトル**: prepare presentation
- **優先度**: 高
- **カテゴリ**: 仕事

## 処理フロー

### 1. 音声録音
ユーザーが音声を録音し、文字起こしを実行

### 2. コマンド検出
文字起こし結果からタスク関連キーワードを検出

### 3. 情報抽出
- タスクタイトルの抽出
- 優先度の検出
- カテゴリの検出
- 説明文の抽出

### 4. タスク作成
抽出された情報を使用してタスクを作成

### 5. 自動同期
作成されたタスクをGoogleカレンダーと自動同期

## 使用例

### 例1: シンプルなタスク
**音声**: "タスク メールの返信"
**結果**:
- タイトル: メールの返信
- 優先度: 中
- カテゴリ: その他

### 例2: 優先度付きタスク
**音声**: "やること レポート提出 緊急"
**結果**:
- タイトル: レポート提出
- 優先度: 緊急
- カテゴリ: その他

### 例3: カテゴリ付きタスク
**音声**: "task 運動 健康"
**結果**:
- タイトル: 運動
- 優先度: 中
- カテゴリ: 健康

### 例4: 詳細情報付きタスク
**音声**: "タスク プロジェクト会議の準備 高優先度 仕事 明日まで"
**結果**:
- タイトル: プロジェクト会議の準備
- 優先度: 高
- カテゴリ: 仕事
- 説明: 明日まで

## 設定

### 自動同期設定
タスク追加コマンドで作成されたタスクは、アプリケーション設定の「タスク管理」→「Googleカレンダーとの自動同期」が有効になっている場合、自動的にGoogleカレンダーと同期されます。

### カスタマイズ
コマンド管理画面で新しいコマンドを追加することで、独自のタスク検出ルールを作成できます。

## トラブルシューティング

### タスクが検出されない場合
1. **キーワードの確認**: 音声にタスク関連キーワードが含まれているか確認
2. **発音の確認**: キーワードが正しく発音されているか確認
3. **文字起こし精度**: 文字起こしの精度が低い場合、手動でタスクを追加

### 情報が正しく抽出されない場合
1. **キーワードの順序**: 優先度やカテゴリのキーワードが正しい位置にあるか確認
2. **複数キーワード**: 同じ種類のキーワードが複数ある場合、最初のものが採用されます

### Googleカレンダー同期が失敗する場合
1. **認証設定**: Google認証が正しく設定されているか確認
2. **ネットワーク接続**: インターネット接続を確認
3. **権限設定**: Googleカレンダーへの書き込み権限があるか確認

## 今後の改善予定

- **期限の自動検出**: 日付や時間の自動抽出機能
- **繰り返しタスク**: 定期的なタスクの自動作成
- **タグ機能**: より詳細な分類機能
- **音声認識精度向上**: より正確な文字起こしとコマンド検出

## 関連機能

- [タスク管理機能](../guides/タスク管理機能ガイド.md)
- [Googleカレンダー連携](../guides/Googleカレンダー連携設定ガイド.md)
- [音声録音・文字起こし](../guides/音声録音機能ガイド.md)
